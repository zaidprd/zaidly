---
// src/components/guides/GuideHub.astro
import ContentSection from '../ContentSection.astro';

// Ambil semua gambar di folder guides secara otomatis
const guideImages = import.meta.glob<{ default: ImageMetadata }>('../../assets/images/guides/*.{jpeg,jpg,png,gif,webp}');

// --- DATA LENGKAP 5 BLOK SEO ---
const ALL_GUIDE_BLOCKS = [
    {
        sectionId: "brewing-foundations",
        sectionTitle: "1. Coffee Brewing Foundations",
        sectionSubtitle: "Master the fundamental variables that dictate the quality of every cup you brew at home.",
        bodyContent: [
            {
                type: 'list',
                title: 'Core Brewing Variables:',
                listItems: [
                    "<strong>Water Quality:</strong> Why filtered water is non-negotiable for flavor and gear longevity.",
                    "<strong>Brew Ratios:</strong> Finding the 'Golden Ratio' for your specific taste preference.",
                    "<strong>Grind Size:</strong> Matching your grind to your brew method for ideal extraction.",
                ]
            },
            {
                type: 'grid',
                title: 'Foundational Guides:',
                guides: [
                    { title: "Coffee-to-Water Ratio", url: "/guides/coffee-ratio-guide", imgKey: "../../assets/images/guides/ratio-featured.jpg" },
                    { title: "Water Temperature Masterclass", url: "/guides/brewing-temperature", imgKey: "../../assets/images/guides/temp-featured.jpg" },
                    { title: "Understanding Extraction", url: "/guides/coffee-extraction-basics", imgKey: "../../assets/images/guides/extraction-featured.jpg" },
                    { title: "Coffee Storage Hacks", url: "/guides/how-to-store-coffee", imgKey: "../../assets/images/guides/storage-featured.jpg" },
                ]
            }
        ],
    },
    {
        sectionId: "pour-over-guides",
        sectionTitle: "2. The Art of Pour-Over",
        sectionSubtitle: "Precision brewing for those who appreciate clarity and complex acidity in their coffee.",
        bodyContent: [
            {
                type: 'grid',
                title: 'Manual Dripper Guides:',
                guides: [
                    { title: "Hario V60 Technique", url: "/guides/v60-brew-guide", imgKey: "../../assets/images/guides/v60-featured.jpg" },
                    { title: "Chemex Masterclass", url: "/guides/chemex-brew-guide", imgKey: "../../assets/images/guides/chemex-featured.jpg" },
                    { title: "Kalita Wave Recipe", url: "/guides/kalita-wave-guide", imgKey: "../../assets/images/guides/kalita-featured.jpg" },
                    { title: "Fellow Stagg [X] Guide", url: "/guides/stagg-x-guide", imgKey: "../../assets/images/guides/stagg-featured.jpg" },
                ]
            }
        ],
    },
    {
        sectionId: "immersion-brewing",
        sectionTitle: "3. Immersion & Full-Body Brewing",
        sectionSubtitle: "Simple, consistent, and bold. Perfect for those who love a heavy mouthfeel.",
        bodyContent: [
            {
                type: 'grid',
                title: 'Immersion Method Guides:',
                guides: [
                    { title: "The Ultimate AeroPress", url: "/guides/aeropress-guide", imgKey: "../../assets/images/guides/aeropress-featured.jpg" },
                    { title: "Perfect French Press", url: "/guides/french-press-guide", imgKey: "../../assets/images/guides/frenchpress-featured.jpg" },
                    { title: "Clever Dripper Secrets", url: "/guides/clever-dripper-guide", imgKey: "../../assets/images/guides/clever-featured.jpg" },
                    { title: "Cold Brew at Home", url: "/guides/cold-brew-guide", imgKey: "../../assets/images/guides/coldbrew-featured.jpg" },
                ]
            }
        ],
    },
    {
        sectionId: "espresso-at-home",
        sectionTitle: "4. Home Espresso Mastery",
        sectionSubtitle: "The hardest method to master, but the most rewarding. Learn to pull cafe-quality shots.",
        bodyContent: [
            {
                type: 'list',
                title: 'Espresso Essentials:',
                listItems: [
                    "<strong>Dialing In:</strong> Adjusting your grinder for the perfect 1:2 shot ratio.",
                    "<strong>Milk Texturing:</strong> Achieving silky micro-foam for latte art.",
                    "<strong>Puck Prep:</strong> The importance of distribution and tamping.",
                ]
            },
            {
                type: 'grid',
                title: 'Espresso Focus Guides:',
                guides: [
                    { title: "Dialing In Espresso", url: "/guides/dialing-in-espresso", imgKey: "../../assets/images/guides/espresso-featured.jpg" },
                    { title: "Latte Art for Beginners", url: "/guides/latte-art-guide", imgKey: "../../assets/images/guides/latte-art-featured.jpg" },
                    { title: "Moka Pot 'Espresso'", url: "/guides/moka-pot-guide", imgKey: "../../assets/images/guides/mokapot-featured.jpg" },
                    { title: "Espresso Maintenance", url: "/guides/clean-espresso-machine", imgKey: "../../assets/images/guides/maintenance-featured.jpg" },
                ]
            }
        ],
    },
    {
        sectionId: "advanced-coffee-science",
        sectionTitle: "5. Advanced Coffee Science",
        sectionSubtitle: "Go beyond the basics and understand the chemistry behind the cup.",
        bodyContent: [
            {
                type: 'paragraph',
                text: "Understanding coffee on a molecular level helps you troubleshoot bad brews and unlock the full potential of expensive specialty beans."
            },
            {
                type: 'grid',
                title: 'Deep Dive Articles:',
                guides: [
                    { title: "Coffee Water Chemistry", url: "/guides/water-science", imgKey: "../../assets/images/guides/chemistry-featured.jpg" },
                    { title: "Altitude & Flavor", url: "/guides/coffee-altitude-impact", imgKey: "../../assets/images/guides/altitude-featured.jpg" },
                    { title: "Processing Methods", url: "/guides/coffee-processing-washed-natural", imgKey: "../../assets/images/guides/processing-featured.jpg" },
                    { title: "Roast Profile Impact", url: "/guides/roast-profiles-explained", imgKey: "../../assets/images/guides/roast-featured.jpg" },
                ]
            }
        ],
    },
];
---

{ALL_GUIDE_BLOCKS.map((data, index) => (
    <ContentSection 
        data={data} 
        isFirst={index === 0} 
        images={guideImages}
    />
))}
---
// Import komponen untuk Logo (jika Anda menggunakan Image atau SVG)
// import { Image } from 'astro:assets'; 

// Tidak ada frontmatter lain yang diperlukan di sini.
---

<header 
    id="main-header" 
    class="fixed w-full top-0 z-50 
           bg-white border-b border-gray-200 shadow-sm h-14 
           transition-all duration-300"
>
    <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 
                flex justify-between items-center h-full">
        
        <a 
            href="/" 
            id="header-logo" 
            class="text-2xl font-bold text-coffee-dark tracking-wide 
                   transition-all duration-300"
        >
            Zaidly
        </a>

        <nav class="hidden md:block">
            <ul class="flex space-x-6 text-gray-700 font-semibold" id="main-nav-links">
                <li><a href="/guides" class="hover:text-accent-primary transition">Brewing Guides</a></li>
                <li><a href="/gear" class="hover:text-accent-primary transition">Gear</a></li>
                <li><a href="/beans" class="hover:text-accent-primary transition">Beans</a></li>
                <li><a href="/blog" class="hover:text-accent-primary transition">Blog</a></li>
            </ul>
        </nav>

        <button class="md:hidden text-coffee-dark">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
        </button>
    </div>
</header>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Ambil elemen header dan logo
        const header = document.getElementById('main-header');
        const logo = document.getElementById('header-logo');
        const navLinksContainer = document.getElementById('main-nav-links');

        // Jarak scroll (dalam piksel) untuk memicu perubahan
        const scrollThreshold = 50; 

        // Kelas untuk kondisi Awal (Initial State)
        const initialHeaderClasses = ['bg-white', 'border-b', 'border-gray-200', 'shadow-sm', 'h-14']; 
        const initialLogoClasses = ['text-2xl', 'text-coffee-dark'];
        const initialNavLinkClasses = ['text-gray-700'];
        const initialNavLinkHoverClasses = ['hover:text-accent-primary'];

        // Kelas untuk kondisi Scroll (Scrolled State - Coffee Dark Semi-Transparant)
        const scrolledHeaderClasses = ['bg-amber-950/90', 'backdrop-blur-sm', 'shadow-lg', 'h-16', 'border-b-amber-900'];
        const scrolledLogoClasses = ['text-3xl', 'text-white']; 
        const scrolledNavLinkClasses = ['text-white'];
        const scrolledNavLinkHoverClasses = ['hover:text-amber-300'];

        // --- Perbaikan TypeScript: Pastikan elemen ada sebelum diakses ---
        if (!header || !logo || !navLinksContainer) {
            console.error('Header, Logo, or Nav element not found!');
            return; 
        }

        const navLinks = navLinksContainer.querySelectorAll('a');

        const updateHeader = () => {
            if (window.scrollY > scrollThreshold) {
                // SCROLLED STATE: COFFEE GELAP + PUTIH
                
                // HEADER
                header.classList.remove(...initialHeaderClasses);
                header.classList.add(...scrolledHeaderClasses);
                
                // LOGO
                logo.classList.remove(...initialLogoClasses);
                logo.classList.add(...scrolledLogoClasses);
                
                // MENU NAVIGASI
                navLinks.forEach(link => {
                    link.classList.remove(...initialNavLinkClasses, ...initialNavLinkHoverClasses);
                    link.classList.add(...scrolledNavLinkClasses, ...scrolledNavLinkHoverClasses);
                });

            } else {
                // INITIAL STATE: PUTIH + TEKS GELAP
                
                // HEADER
                header.classList.remove(...scrolledHeaderClasses);
                header.classList.add(...initialHeaderClasses);
                
                // LOGO
                logo.classList.remove(...scrolledLogoClasses);
                logo.classList.add(...initialLogoClasses);

                // MENU NAVIGASI
                navLinks.forEach(link => {
                    link.classList.remove(...scrolledNavLinkClasses, ...scrolledNavLinkHoverClasses);
                    link.classList.add(...initialNavLinkClasses, ...initialNavLinkHoverClasses);
                });
            }
        };

        // Jalankan sekali saat halaman dimuat
        updateHeader();

        // Jalankan saat pengguna scroll
        window.addEventListener('scroll', updateHeader);
    });
</script>
---
// src/components/AffiliateLink.astro
const { url, label = "Amazon" } = Astro.props;

const isAli = label.toLowerCase() === 'aliexpress';

/** * WARNA MODERN & CANTIK 
 * Amazon: Deep Slate (Biru Tua Keabuan) -> Berkelas
 * AliExpress: Vibrant Rose-Red -> Modern & Segar
 */
const bgColor = isAli 
  ? 'bg-[#E11D48] hover:bg-[#BE123C]' // Modern Rose-Red
  : 'bg-[#232F3E] hover:bg-[#37475A]'; // Amazon Deep Navy/Slate

const ariaLabel = `Check price on ${label}`;
---

<div class="inline-flex not-prose mr-2 mb-2 align-middle">
  <a 
    href={url} 
    target="_blank" 
    rel="nofollow sponsored" 
    aria-label={ariaLabel}
    class={`inline-flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-[4px] font-bold text-[10px] text-white no-underline transition-all duration-200 hover:shadow-md active:scale-95 ${bgColor}`}
    style="font-family: system-ui, -apple-system, sans-serif; -webkit-font-smoothing: antialiased; letter-spacing: 0.02em;"
  >
    {isAli ? (
      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" class="shrink-0 opacity-90">
        <path d="M19.783 3L24 13.253V21h-7.513l-.934-2.587H8.447L7.513 21H0v-7.747L4.217 3h15.566zM15.51 15.347l-1.467-4.066h-4.086l-1.467 4.066h7.02z"/>
      </svg>
    ) : (
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 opacity-90">
        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
        <path d="M3 6h18"></path>
        <path d="M16 10a4 4 0 0 1-8 0"></path>
      </svg>
    )}
    <span class="whitespace-nowrap uppercase">
      CHECK PRICE ON {label}
    </span>
  </a>
</div>
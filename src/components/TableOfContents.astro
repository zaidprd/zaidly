---
// src/components/TableOfContents.astro
import type { Heading } from '../layouts/ArticleLayout.astro'; 

interface Props {
    headings: Heading[];
}

const { headings } = Astro.props;
const filteredHeadings = headings.filter(h => h.depth > 1 && h.depth < 4);
---

<nav class="mb-8">
    <h2 class="font-black text-[10px] uppercase tracking-[0.3em] text-coffee-dark/40 mb-4">
        On This Page
    </h2>
    <ul class="space-y-2 text-coffee-dark">
        {filteredHeadings.map(h => (
            <li class:list={[
                h.depth === 2 ? 'pl-0 font-bold text-xs' : 'pl-4 text-[12px] opacity-70', 
                'hover:text-accent-primary transition duration-150 leading-snug uppercase tracking-tight'
            ]}>
                <a href={`#${h.slug}`} class="block py-0.5">
                    {h.text}
                </a>
            </li>
        ))}
    </ul>
</nav>